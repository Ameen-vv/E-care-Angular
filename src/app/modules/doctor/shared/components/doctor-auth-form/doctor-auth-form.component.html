<form
  [formGroup]="doctorForm"
  class="grid grid-cols-1 gap-6 mt-8 md:grid-cols-2"
  (ngSubmit)="onSubmit()"
>
  <div class="col-span-1 md:col-span-2">
    <label for="doctorFullName" class="block text-sm font-medium text-gray-700">Full Name</label>
    <input type="text" id="doctorFullName" formControlName="doctorFullName" class="mt-1 block w-full border-gray-500 bg-gray-100 p-2 rounded-md shadow-sm  sm:text-sm" />
    <div
      *ngIf="doctorForm?.get('doctorFullName')?.invalid && doctorForm?.get('doctorFullName')?.touched"
      class="error-message text-red-500 mt-2"
    >
      Full Name is required.
    </div>
  </div>

  <div class="col-span-1 md:col-span-2">
    <label for="doctorPhone" class="block text-sm font-medium text-gray-700">Phone number</label>
    <input type="text" id="doctorPhone" formControlName="doctorPhone" class="mt-1 block w-full bg-gray-100 p-2 border-gray-300 rounded-md shadow-sm focus:ring-mainColor focus:border-mainColor sm:text-sm" />
    <div
      *ngIf="doctorForm?.get('doctorPhone')?.invalid && doctorForm?.get('doctorPhone')?.touched"
      class="error-message text-red-500 mt-2"
    >
    Please enter a valid phone.
    </div>
  </div>

  <div class="col-span-1 md:col-span-2">
    <label for="doctorEmail" class="block text-sm font-medium text-gray-700">Email address</label>
    <input type="email" id="doctorEmail" formControlName="doctorEmail" class="mt-1 block w-full bg-gray-100 p-2 border-gray-300 rounded-md shadow-sm focus:ring-mainColor focus:border-mainColor sm:text-sm" />
    <div
      *ngIf="doctorForm?.get('doctorEmail')?.invalid && doctorForm?.get('doctorEmail')?.touched"
      class="error-message text-red-500 mt-2"
    >
      Please enter a valid email address.
    </div>
  </div>

  <div *ngIf="formType === 'signUp'" class="col-span-1">
    <label for="doctorDateOfBirth" class="block text-sm font-medium text-gray-700">DOB</label>
    <input
      type="date"
      id="doctorDateOfBirth"
      formControlName="doctorDateOfBirth"
      max="2000-12-31"
      class="mt-1 block w-full border-gray-300  bg-gray-100 p-2 rounded-md shadow-sm focus:ring-mainColor focus:border-mainColor sm:text-sm"
    />
    <div
      *ngIf="doctorForm?.get('doctorDateOfBirth')?.invalid && doctorForm?.get('doctorDateOfBirth')?.touched"
      class="error-message text-red-500 mt-2"
    >
      Please enter a valid date of birth.
    </div>
  </div>

  <div *ngIf="formType === 'signUp'" class="col-span-1">
    <label for="doctorQualification" class="block text-sm font-medium text-gray-700">Qualification</label>
    <input
      type="text"
      id="doctorQualification"
      formControlName="doctorQualification"
      class="mt-1 block w-full bg-gray-100 p-2 border-gray-300 rounded-md shadow-sm focus:ring-mainColor focus:border-mainColor sm:text-sm"
    />
    <div
      *ngIf="doctorForm?.get('doctorQualification')?.invalid && doctorForm?.get('doctorQualification')?.touched"
      class="error-message text-red-500 mt-2"
    >
      Qualification is required.
    </div>
  </div>

  <div *ngIf="formType === 'signUp'" class="col-span-1">
    <label for="doctorDepartment" class="block text-sm font-medium text-gray-700">Department</label>
    <select id="doctorDepartment" formControlName="doctorDepartment" class="mt-1 bg-gray-100 p-2 block w-full border-gray-300 rounded-md shadow-sm focus:ring-mainColor focus:border-mainColor sm:text-sm">
      <option value="">Select department</option>
      <option *ngFor="let department of departments" [value]="department._id">
        {{ department.name }}
      </option>
    </select>
    <div
      *ngIf="doctorForm?.get('doctorDepartment')?.invalid && doctorForm?.get('doctorDepartment')?.touched"
      class="error-message text-red-500 mt-2"
    >
      Please select a department.
    </div>
  </div>

  <div *ngIf="formType === 'signUp'" class="col-span-1">
    <label for="doctorAddress" class="block text-sm font-medium text-gray-700">Address</label>
    <input type="text" id="doctorAddress" formControlName="doctorAddress" class="mt-1 bg-gray-100 p-2 block w-full border-gray-300 rounded-md shadow-sm focus:ring-mainColor focus:border-mainColor sm:text-sm" />
    <div
      *ngIf="doctorForm?.get('doctorAddress')?.invalid && doctorForm?.get('doctorAddress')?.touched"
      class="error-message text-red-500 mt-2"
    >
      Address is required.
    </div>
  </div>

  <div *ngIf="formType === 'signUp'" class="col-span-1">
    <label for="doctorHospital" class="block text-sm font-medium text-gray-700">Hospital</label>
    <input type="text" id="doctorHospital" formControlName="doctorHospital" class="mt-1 bg-gray-100 p-2 block w-full border-gray-300 rounded-md shadow-sm focus:ring-mainColor focus:border-mainColor sm:text-sm" />
    <div
      *ngIf="doctorForm?.get('doctorHospital')?.invalid && doctorForm?.get('doctorHospital')?.touched"
      class="error-message text-red-500 mt-2"
    >
      Hospital name is required.
    </div>
  </div>

  <div *ngIf="formType === 'signUp'" class="col-span-1">
    <label for="doctorCertificates" class="block text-sm font-medium text-gray-700">Upload Certificates</label>
    <input
      type="file"
      id="doctorCertificates"
      accept="image/*"
      (change)="handleImage($event)"
      class="mt-1 block bg-gray-100 p-2 w-full border-gray-300 rounded-md shadow-sm focus:ring-mainColor focus:border-mainColor sm:text-sm"
    />
    <div
      *ngIf="imageErr"
      class="error-message text-red-500 mt-2"
    >
      Please upload valid certificates.
    </div>
  </div>

  <div class="col-span-1">
    <label for="doctorPassword" class="block text-sm font-medium text-gray-700">Password</label>
    <input
      type="password"
      id="doctorPassword"
      formControlName="doctorPassword"
      class="mt-1 bg-gray-100 p-2 block w-full border-gray-300 rounded-md shadow-sm focus:ring-mainColor focus:border-mainColor sm:text-sm"
    />
    <div
      *ngIf="doctorForm?.get('doctorPassword')?.invalid && doctorForm?.get('doctorPassword')?.touched"
      class="error-message text-red-500 mt-2"
    >
      Invalid Password (should be 6 letters)
    </div>
  </div>

  <div *ngIf="formType === 'signUp'" class="col-span-1">
    <div>
      <label for="doctorConfirmPass" class="block text-sm font-medium text-gray-700">Confirm password</label>
      <input
        type="password"
        id="doctorConfirmPass"
        formControlName="doctorConfirmPass"
        class="mt-1 bg-gray-100 p-2 block w-full border-gray-300 rounded-md shadow-sm focus:ring-mainColor focus:border-mainColor sm:text-sm"
      />
    
      <div
      *ngIf="doctorForm.hasError('passwordMismatch') || doctorForm.get('doctorConfirmPass')?.invalid"
      class="error-message text-red-500 mt-2"
      >
        Passwords do not match.
      </div>
    </div>
  </div>

  <div class="col-span-1">
    <button
      type="submit"
      [disabled]="!doctorForm.valid"
      class="inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-mainColor border border-transparent rounded-md shadow-sm hover:bg-mainColorFocus focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-mainColor"
    >
      <span>Submit</span>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="w-5 h-5 rtl:-scale-x-100"
        viewBox="0 0 20 20"
        fill="currentColor"
      >
        <path
          fill-rule="evenodd"
          d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
          clip-rule="evenodd"
        />
      </svg>
    </button>
  </div>
</form>
